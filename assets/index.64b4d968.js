var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,s=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&i(e,a,t[a]);if(r)for(var a of r(t))o.call(t,a)&&i(e,a,t[a]);return e},l=(e,r)=>t(e,a(r));import{C as u,R as c,r as p,i as d,c as m,d as h,u as g,t as f,a as b,b as y,P as _,F as v,e as E,f as w}from"./vendor.c803325f.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const x={locale:"",application:{id:"",name:"",logo_url:"",metadata:{}},branding:{logo_url:"",colors:{primary:"",page_background:""}},tenant:{friendly_name:"",support_email:"",support_url:""},organization:{id:"",display_name:"",name:"",metadata:{},branding:{logo_url:"",colors:{primary:"",page_background:""}}},prompt:{name:"",screen:{name:"",texts:""}},user:{user_id:"",picture:"",email:"",email_verified:!0,app_metadata:{},user_metadata:{},family_name:"",given_name:"",name:"",nickname:"",username:""}},k=[{id:"merchant",domain:"portalid.h4b.dev",redirectUri:"https://portal.h4b.dev/authorize",scope:"openid profile email",audience:"https://portal.h4b.dev/",responseType:"code",responseMode:"query",databaseConnection:"Username-Password-Authentication"},{id:"hugo-fun-merchant",domain:"portalid.h4b.dev",redirectUri:"https://portal-fun.h4b.dev/authorize",scope:"openid profile email",audience:"https://hugo-fun-merchant",responseType:"code",responseMode:"query",databaseConnection:"Username-Password-Authentication"}],R=e=>{var t;return null==(t=document.getElementById(e))?void 0:t.value},P=(e,t)=>{const a=k.find((t=>t.id===e));return a?{domain:a.domain,clientID:t,redirectUri:a.redirectUri,scope:a.scope,audience:a.audience,responseType:a.responseType,responseMode:a.responseMode,overrides:{__tenant:"h4b-dev-merchant",__token_issuer:"https://portalid.h4b.dev/"}}:null},S=e=>{const t=k.find((t=>t.id===e));return(null==t?void 0:t.databaseConnection)?t.databaseConnection:"Username-Password-Authentication"},A=e=>{const t="0123456789ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz+/";let a="";for(;e>0;){const r=new Uint8Array(16);window.crypto.getRandomValues(r).forEach((r=>{0!==e&&r<t.length&&(a+=t[r],e--)}))}return a},O=e=>e.toString(u.enc.Base64),C=e=>{const t=u.lib.WordArray.random(e),a=O(t);return O((r=a,u.SHA256(r)));var r},j=()=>({protocol:"oauth2",nonce:A(16),code_challenge:C(32),code_challenge_method:"S256",_intstate:"deprecated"}),I=c.createContext(x),T=({children:e})=>{const[t,a]=p.exports.useState(x),[r,n]=p.exports.useState(null),[o,i]=p.exports.useState({});p.exports.useEffect((()=>{a((e=>l(s({},e),{application:{name:R("auth0-app-name"),id:R("auth0-app-id"),logo_url:R("auth0-app-logo-url"),metadata:R("auth0-app-metadata")},branding:{logo_url:R("auth0-brand-logo-url"),colors:{primary:R("auth0-brand-colors-primary"),page_background:R("auth0-brand-colors-p-background")}},tenant:{friendly_name:R("auth0-tenat-name"),support_email:R("auth0-tenat-support-email"),support_url:R("auth0-tenat-support-url")},organization:{id:R("auth0-org-id"),display_name:R("auth0-org-display-name"),name:R("auth0-org-name"),metadata:R("auth0-org-metadata"),branding:{logo_url:R("auth0-org-brand-logo-url"),colors:{primary:R("auth0-org-brand-colors-primary"),page_background:R("auth0-org-brand-colors-p-background")}}},prompt:{name:R("auth0-prompt-name"),screen:{name:R("auth0-prompt-screen-name"),texts:R("auth0-prompt-screen-texts")}},user:{user_id:R("auth0-user-user-id"),picture:R("auth0-user-picture"),email:R("auth0-user-email"),email_verified:R("auth0-user-email-verified"),metadata:R("auth0-user-app-metadata"),user_metadata:R("auth0-user-user-metadata"),family_name:R("auth0-user-family-name"),given_name:R("auth0-user-given-name"),name:R("auth0-user-name"),nickname:R("auth0-user-nickname"),username:R("auth0-user-username")}})))}),[document.readyState]),p.exports.useEffect((()=>{t.application.id&&(console.log("app info",l(s(s({},P(t.application.name,t.application.id)),j()),{state:new URLSearchParams(window.location.search).get("state")})),n(new d.WebAuth(l(s(s({},P(t.application.name,t.application.id)),j()),{state:new URLSearchParams(window.location.search).get("state")}))))}),[t.application.id]);return console.log("state",t),c.createElement(I.Provider,{value:{state:t,login:(e,a)=>{r.login({realm:S(t.application.name),username:e,password:a},((e,t)=>{e&&i(e),console.log("{err, authResult}",{err:e,authResult:t})}))},loginError:o}},e)};var L=m([["/",()=>({page:"home",title:"Inicio",menuActive:"home"})],["/logout",()=>({page:"logout",title:"Logout",menuActive:"",layout:"empty"})],["/authorize",()=>({page:"authorization",title:"authorization",menuActive:"",layout:"empty"})],["/configuration",()=>({page:"configuration",title:"Configuración"})],["/configuration/*",e=>({page:"configuration",title:"Configuración",props:{sectionId:e}})],["/configuration/*/*",(e,t)=>({page:"configuration",title:"Configuración",props:{sectionId:e,tabIndex:t}})],["/support",()=>({page:"support",title:"Soporte",menuActive:"support"})],["/terms-and-conditions",()=>({page:"terms"})]]);h.extend(g),h.extend(f),h.locale("es-us");const q=b([L,e=>{e.on("@init",(()=>({modal:{callbackData:{}}}))),e.on("modal/callback",(({modal:e},{callbackKey:t,callbackData:a})=>({modal:l(s({},e),{callbackData:l(s({},e.callbackData),{[t]:a})})})))},!1]),D=e=>q.dispatch(y,e);_.elementType.isRequired,_.object.isRequired,_.shape({picture:_.string,name:_.string}).isRequired,_.bool,_.bool;const U=({Component:e})=>c.createElement(p.exports.Suspense,{fallback:c.createElement(v,null)},e?c.createElement(e,null):null);U.propTypes={Component:_.elementType.isRequired},_.elementType.isRequired,_.string.isRequired,_.string.isRequired,_.object,_.elementType.isRequired;const z={},N=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`https://cdn.jsdelivr.net/gh/ccortes96/cdn-test@v0.0.3/${e}`)in z)return;z[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},M=new Map,B=e=>{if(M.has(e))return M.get(e);let t=null;switch(e){case"hugo-fun-merchant":t=p.exports.lazy((()=>N((()=>import("./index.5376d4ca.js")),["assets/index.5376d4ca.js","assets/vendor.c803325f.js","assets/vendor.7e30b6a2.css"])));break;case"merchant":t=p.exports.lazy((()=>N((()=>import("./index.4e97e5a1.js")),["assets/index.4e97e5a1.js","assets/index.d83f309d.css","assets/vendor.c803325f.js","assets/vendor.7e30b6a2.css"])));break;default:t=p.exports.lazy((()=>N((()=>import("./index.b4ba37ad.js")),["assets/index.b4ba37ad.js","assets/index.0f77893e.css","assets/vendor.c803325f.js","assets/vendor.7e30b6a2.css"])))}return M.set(e,t),t},V=()=>{var e;const[t,a]=p.exports.useState(!1),r=p.exports.useContext(I);if(p.exports.useEffect((()=>{window.unhandledrejection||(window.unhandledrejection=e=>{console.error(`UNHANDLED PROMISE REJECTION: ${JSON.stringify(e.reason)}`,e),a(!0)})}),[t]),t)return c.createElement(U,{Component:B("serverError")});const n=B(null==(e=r.state.application)?void 0:e.name);return c.createElement(U,{Component:n})},H=()=>c.createElement(c.Fragment,null,null,c.createElement(T,null,c.createElement(V,null)));E({environment:"production",dsn:{}.H4B_SENTRY_DSN});const $=document.getElementById("root");w.render(c.createElement(H,null),$);export{I as A,D as n};
